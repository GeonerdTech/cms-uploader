<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>NewsGrid CMS</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f4f6f8;
      display: flex;
      justify-content: center;
      padding-top: 60px;
    }
    .container {
      max-width: 400px;
      width: 100%;
      background: #fff;
      padding: 25px;
      border-radius: 10px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    }
    h1 {
      text-align: center;
      margin-bottom: 20px;
      color: #111;
    }
    input, select, button {
      width: 100%;
      padding: 12px;
      margin-bottom: 12px;
      border-radius: 6px;
      border: 1px solid #ccc;
      font-size: 1rem;
    }
    button {
      background: #111;
      color: #fff;
      border: none;
      cursor: pointer;
      font-weight: bold;
      transition: 0.3s;
    }
    button:hover {
      opacity: 0.9;
    }
    #status {
      text-align: center;
      margin-top: 10px;
      font-weight: bold;
    }
  </style>
</head>
<body>

<div class="container">
  <h1>NewsGrid CMS</h1>
  <form id="cmsForm">
    <input id="userId" name="userId" placeholder="User ID" required>
    <input id="password" type="password" name="password" placeholder="Password" required>
    <input id="imageUrl" name="imageUrl" placeholder="Image URL" required>

    <select id="category" name="category" required>
      <option value="">Select Category</option>
      <option value="Politics">Politics</option>
      <option value="Business">Business</option>
      <option value="World">World</option>
      <option value="Opinion">Opinion</option>
    </select>

    <button type="submit">Upload</button>
  </form>

  <div id="status"></div>
</div>

<script>
  const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbxZPBrXjudDqhXnT9pDCnvtJm8nvyW08HJndrdbDCuuew4DxRoYnhd4xwvIm2oDi9LFfw/exec";

  document.getElementById("cmsForm").addEventListener("submit", async (e) => {
    e.preventDefault();

    const data = {
      userId: document.getElementById("userId").value,
      password: document.getElementById("password").value,
      imageUrl: document.getElementById("imageUrl").value,
      category: document.getElementById("category").value
    };

    const status = document.getElementById("status");
    status.innerText = "Uploading...";

    try {
      const res = await fetch(SCRIPT_URL, {
        method: "POST",
        body: JSON.stringify(data),
        headers: { "Content-Type": "application/json" }
      });

      const result = await res.json();

      if (result.success) {
        status.innerText = "✅ Uploaded successfully!";
        document.getElementById("cmsForm").reset();
      } else {
        status.innerText = "❌ " + result.message;
      }

    } catch (err) {
      status.innerText = "❌ Network error, try again.";
      console.error(err);
    }
  });
</script>

</body>
</html>
